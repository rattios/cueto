 <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '14px' }"></ngx-loading>
<div class="wrapper">
<div class="sidebar" data-color='blue' data-image="" style="background-color: #000 !important">
        <app-sidebar></app-sidebar>
        <div class="sidebar-background" style="background-image: url(../assets/img/sidebar-4.jpg)"></div>
</div>
<div class="main-panel">
    <app-navbar></app-navbar>
    <div class="main-content">
       
    <div class="container-fluid">
        <div class="col-md-12" *ngIf="ver">
            <div class="card">
                <div class="card-header" data-background-color="purple">
                    <h3 class="title">Afiliados</h3>
                    <h4 class="category">Información resumida de los afiliados.</h4>
                </div>
                <div class="card-content table-responsive">
                    <div class="form-group form-black label-floating is-empty">
                         <label class="labels" style="font-size: 18px; font-weight: bold">Buscar: </label>
                         <input  class="form-control" type="text"  id="inputName" [(ngModel)]="inputName" (ngModelChange)="FilterByName()"/>
                         <br>
                    </div>
                    <table class="table table-striped">
                      <thead>
                         <th style="text-align: center;">Nombre</th>
                         <th style="text-align: center;">DNI</th>
                         <th style="text-align: center;">Tipo</th>
                         <th style="text-align: center;">Familiares</th>
                         <th style="text-align: center;">Estado</th>
                         <th style="text-align: center;">Fecha de alta o renovación</th>
                         <th style="text-align: center;">Ingresó</th>
                         <th style="text-align: center;">Ticket</th>
                         <th style="text-align: center;">Acciones</th>
                      </thead>
                      <tbody>
                         <tr *ngFor="let item of items">
                            
                            <td style="text-align: center; font-size: 16px">{{item.nombre_1}} {{item.nombre_2}} {{item.apellido_1}} {{item.apellido_1}}</td>
                            <td style="text-align: center; font-size: 16px">{{item.dni}}</td>
                            <td style="text-align: center; font-size: 16px">{{item.tipo2}}</td>
                            <td style="text-align: center; font-size: 16px">{{item.nFamiliares}}</td>
                            <td style="text-align: center; font-size: 16px">{{item.estado2}}</td>
                            <td style="text-align: center; font-size: 16px">{{item.f_alta | date:'dd/MM/yyyy'}}</td>
                            <td style="text-align: center; font-size: 16px">{{item.user_id2}}</td>
                            <td style="text-align: center; font-size: 16px">{{item.ticket}}</td>
                            <td style="text-align: center; font-size: 16px">
                              <button type="button" class="btn btn-success" (click)="getUsuario(item)">Ver</button>
                             <button type="button" class="btn btn-warning" (click)="editar(item)">Editar</button>
                            </td>
                         </tr>
                      </tbody>
                    </table>
                      <div class="btn-toolbar" role="toolbar" style="margin: 0;">
                        <div class="btn-group">
                           <label style="margin-top:10px">Página {{currentIndex}}/{{pageNumber}} </label>
                        </div>
                        <div class="btn-group pull-right">
                           <ul class="pagination" >
                              <li [ngClass]="{'disabled': (currentIndex == 1 || pageNumber == 0)}" ><a  (click)="prevPage()">Atrás</a></li>
                                 <li *ngFor="let page of pagesIndex"  [ngClass]="{'active': (currentIndex == page)}">
                                    <a (click)="setPage(page)" >{{page}} </a>
                                 </li>
                              <li [ngClass]="{'disabled': (currentIndex == pageNumber || pageNumber == 0)}" ><a   (click)="nextPage()">Siguiente</a></li>
                           </ul>
                        </div>
                      </div>
                </div>
            </div>
        </div>

<!-- --------------------------------------------------------------------------------------------------------- -->
    <div class="row" *ngIf="verDatos">
        <div class="col-md-1"></div>
        <div class="col-md-10 fixed" >
                <div class="card">
                    <div class="card-header" data-background-color="red">
                        <div class="row">
                            <div class="col-md-6">
                                <h3 class="title">Datos</h3>
                            </div>
                            <div class="col-md-6" style="text-align: right;">
                                <button type="button" class="btn btn-success" (click)="volver(item)">Volver</button>
                            </div>
                        </div>
                    </div>
                    <div class="card-content">
                        
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group form-black label-floating">
                                        <label class="labels">Sucursal</label>
                                        <p>{{formCliente.sucursal}}</p>
                                    </div>
                                </div>
                                
                                <div class="col-md-4">
                                    <div class="form-group form-black label-floating">
                                        <label class="labels">Cartera</label>
                                        <p>{{formCliente.cartera}}</p>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-group form-black label-floating">
                                        <label class="labels">Numero</label>
                                        <p>{{formCliente.ticket}}</p>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <hr>
                                <div class="col-md-8">
                                    
                                        <label class="labels">Cliente</label>
                                        <p>{{formCliente.tipo2}}</p>
                                    
                                </div>
                            </div>
                             <div class="row">
                                <hr>
                                <div class="col-md-12">
                                    <h4 class="labels">Titular</h4>
                                    
                                </div>
                                <div class="col-md-12">
                                    <p>{{formCliente.nombre_1}} {{formCliente.nombre_2}} {{formCliente.apellido_1}} {{formCliente.apellido_2}}</p>
                                </div>
                                
                            </div>
                           <div class="row">
                                <hr>
                                <div class="col-md-4">
                                     <label class="labels">DNI</label>
                                    <div class="form-group form-black label-floating">
                                      <p>{{formCliente.dni}}</p> 
                                    </div>
                                </div>
                                <div class="col-md-4">
                                     <label class="labels">Sexo</label>
                                    <div class="form-group form-black label-floating">
                                        <p>{{formCliente.sexo}}</p> 
                                    </div>
                                </div>
                                <div class="col-md-4">
                                     <label class="labels">Fecha de nacimiento</label>
                                    <div class="form-group form-black label-floating">
                                        <p>{{formCliente.f_nacimiento | date: 'dd/MM/yyyy'}}</p> 
                                    </div>
                                </div>
                                
                            </div>
                            <div class="row">
                                <hr>
                                 <div class="col-md-12">
                                     <label class="labels">Dirección</label>
                                    <div class="form-group form-black label-floating">
                                        <p>{{formCliente.direccion}}</p>
                                    </div>
                                </div>   
                            </div>
                            <div class="row">
                                <hr>
                                <div class="col-md-4">
                                     <label class="labels">Fecha de alta o última renovación</label>
                                    <div class="form-group form-black label-floating">
                                        <p>{{formCliente.f_alta | date: 'dd/MM/yyyy'}}</p>
                                    </div>
                                </div>
                                
                                <div class="col-md-5">
                                     <label class="labels" >Estado del Cliente</label>
                                    <div class="form-group form-black label-floating">
                                        <p>{{formCliente.estado}}</p>
                                    </div>
                                </div>
                                
                            </div>
                            <div class="row" *ngIf="true">
                                <!-- <div class="col-md-3">
                                    <label class="labels">Moroso</label>
                                    <div class="form-group form-black label-floating" align="center">
                                        <p>{{moroso}}</p>
                                    </div>
                                </div> -->
                                <div class="col-md-6">
                                     <label class="labels">Fecha de morosidad</label>
                                    <div class="form-group form-black label-floating" align="center">
                                        <p>{{formCliente.f_moroso | date: 'dd/MM/yyyy'}}</p>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                     <label class="labels">Mes</label>
                                    <div class="form-group form-black label-floating" align="center">
                                        <p>{{mes}}</p>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                     <label class="labels">Año</label>
                                    <div class="form-group form-black label-floating" align="center">
                                        <p>{{ano}}</p>
                                    </div>
                                </div>
                            </div>
        
                            <hr>



                            
                            <div *ngIf="formCliente.tipo=='AF_CUETO'">

                                <div *ngFor="let client of formCliente.familiares; let i = index">
                                    <div class="row">
                                         <div class="col-md-1">
                                        </div>
                                        <div class="col-md-10">
                                            <div class="row">
                                                <hr>
                                                <h3 class="labels" style="font-size: 24px !important; font-weight: bold !important;">Familiar {{i+1}}</h3>
                                                
                                                <div class="col-md-12">
                                                    <label class="labels">Nombre:</label>
                                                    <div class="form-group form-black label-floating is-empty">
                                                        <p>{{client.nombre_1}} {{client.nombre_2}} {{client.apellido_1}} {{client.apellido_2}}</p>
                                                        <!-- <input type="text" name="nombre_1" class="form-control" [(ngModel)]="nombre_1"> -->
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                
                                                <div class="col-md-4">
                                                     <label class="labels">DNI</label>
                                                    <div class="form-group form-black label-floating is-empty">
                                                        <p>{{client.dni}}</p>
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                     <label class="labels">Vínculo</label>
                                                    <div class="form-group form-black label-floating is-empty">
                                                        <p>{{client.vinculo}}</p>
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                     <label class="labels">Sexo</label>
                                                    <div class="form-group form-black label-floating is-empty">
                                                        <p>{{client.sexo}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                
                                                <div class="col-md-6">
                                                     <label class="labels">Fecha de Nacimiento</label>
                                                    <div class="form-group form-black label-floating is-empty">
                                                        <p>{{client.f_nacimiento | date: 'dd/MM/yyyy'}}</p>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                     <label class="labels">Observaciones</label>
                                                    <div class="form-group form-black label-floating is-empty">
                                                        <p>{{client.observaciones}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-12">
                                                     <label class="labels">Dirección</label>
                                                    <div>
                                                        {{client.direccion}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-1">
                                        </div>
                                    </div>
                                </div>
                        <div style="text-align: center;">
                            <button type="button" class="btn btn-success" (click)="volver(item)">Volver</button>
                        </div>
                            <div class="clearfix"></div>
                    </div>
                </div>
            </div>
            
        </div>
        <div class="col-md-1"></div>

    </div>
<!-- --------------------------------------------------------------------------------------------------------- -->
    <div class="row" *ngIf="verEditar">
          <div class="col-md-8">
                <div class="card">
                    <div class="card-header" data-background-color="orange">
                        <div class="row">
                            <div class="col-md-6">
                                <h3 class="title">Información del cliente afiliado</h3>
                            </div>
                            <div class="col-md-6" style="text-align: right;">
                                <button type="button" class="btn btn-success" (click)="volver(item)">Volver</button>
                            </div>
                        </div>
                    </div>
                    <div class="card-content">
                        <form [formGroup]="registroClienteForm" (ngSubmit)="editarAfiliado(registroClienteForm)">
                            <div class="row">
                                <div class="col-md-4">
                                    <label class="labels">Sucursal:</label>
                                    <div class="form-group form-black label-floating">
                                        <h3 style="font-weight: bold; margin-top: -20px">{{sucursal}}</h3>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-group form-black label-floating">
                                        <label class="labels">Cartera:</label>
                                        <select name="cartera_id" formControlName="cartera_id" class="form-control" (change)="getTicket2($event)">
                                            <option *ngFor="let title of carteras" [value]="title.id">{{title.numero}} {{title.descripcion}}</option>
                                        </select>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-group form-black label-floating">
                                        <label class="labels">Numero:</label>
                                        <select name="ticket" formControlName="ticket_id" class="form-control" (change)="setTicket2($event)">
                                            <option *ngFor="let title of ticket" [value]="title.id">{{title.ticket}}</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group form-black label-floating">
                                        <label class="labels">Tipo de Cliente:</label>
                                        <select name="tipo" formControlName="tipo" class="form-control" (change)="update_tipo($event)">
                                            <option value="AF_CUETO_S">SSF</option>
                                            <option value="AF_CUETO">GSF</option>
                                            <!--<option value="AF_CONV_S">Afiliado Convenio Independiente</option>
                                            <option value="AF_CONV">Afiliado Convenio con Grupo Familiar</option>-->
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <h2>Titular</h2>
                                    <hr>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label class="labels">Primer Nombre</label>  
                                        <input type="text" name="nombre_1" class="form-control" formControlName="nombre_1" [transformer]="uppercase">
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label class="labels">Segundo Nombre</label>       
                                        <input type="text" name="nombre_2" class="form-control" formControlName="nombre_2" [transformer]="uppercase">
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label class="labels">Primer Apellido</label>
                                        <input type="text" name="apellido_1" class="form-control" formControlName="apellido_1" [transformer]="uppercase">
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label class="labels">Segundo Apellido</label>
                                        <input type="text" name="apellido_2" class="form-control" formControlName="apellido_2" [transformer]="uppercase">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label class="labels">DNI</label>
                                        <input type="text" name="dni" class="form-control" formControlName="dni">
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label class="labels">Sexo:</label>
                                        <select name="sexo" formControlName="sexo" class="form-control">
                                            <option value="M" selected="true">Masculino</option>
                                            <option value="F">Femenino</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group form-black label-floating">
                                        <!-- <label class="labels">Fecha de nacimiento:</label> -->
                                        <mat-form-field>
                                        
                                          <input matInput [matDatepicker]="picker1" placeholder="Fecha de nacimiento" class="form-control" style="width: 65%; display: inline-block;" name="f_nacimiento" formControlName="f_nacimiento">
                                          <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                          <mat-datepicker #picker1></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                </div>
                                
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <label class="labels">Correo</label>
                                    <div class="form-group form-black label-floating is-empty">
                                        
                                        <input type="text" name="correo" class="form-control" formControlName="correo">
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label class="labels">Teléfono</label>
                                    <div class="form-group form-black label-floating is-empty">
                                        
                                       <input type="text" name="telefono" class="form-control" formControlName="telefono">

                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                 <div class="col-md-12">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label class="labels">Dirección</label>
                                        <input type="text" name="direccion" class="form-control" formControlName="direccion" [transformer]="uppercase">
                                    </div>
                                </div>   
                            </div>
                            <div class="row">
                                 <div class="col-md-12">
                                    <div class="form-group form-black label-floating is-empty">
                                        <label class="labels">Subir imagen:</label>
                                        <button class="btn btn-warning btn-block" >    Seleccionar imagen    </button>
                                        <input type="file" ngFileSelect [options]="options" (onUpload)="handleUpload($event)" (beforeUpload)="beforeUpload($event)">
                                         
                                        <!-- drag & drop file example-->
                                        <style>
                                          .file-over { border: dotted 3px red; } /* Default class applied to drop zones on over */
                                        </style> 
                                        <div class=".btn-block .btn-success" ngFileDrop [options]="options" (onUpload)="handleUpload($event)" [ngClass]="{'file-over': hasBaseDropZoneOver}" (onFileOver)="fileOverBase($event)" (beforeUpload)="beforeUpload($event)">
                                        </div>
                                         
                                    </div>
                                </div>   
                            </div>
                            <div class="row">
                                <div class="col-md-8">
                                    <div class="form-group form-black label-floating">
                                        <!-- <label class="labels">Fecha de alta o última renovación:</label> -->
                                        <mat-form-field>
                                        
                                          <input matInput [matDatepicker]="picker2" placeholder="Fecha de alta o última renovación" class="form-control" style="width: 65%; display: inline-block;" name="f_alta" formControlName="f_alta">
                                          <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                                          <mat-datepicker #picker2></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="col-md-2" >
                                    <div class="form-group form-black label-floating" align="center">
                                        <label class="labels" style="font-size: 14px !important">Es moroso?</label>
                                        <mat-slide-toggle name="moroso" formControlName="moroso" (ngModelChange)="chekarMoroso($event)">{{estadoMoroso}}</mat-slide-toggle>
                                    </div>
                                </div>
                                <div class="row" *ngIf="registroClienteForm.value.moroso">
                                    <div class="col-md-6">
                                        <div class="form-group form-black label-floating">

                                             <mat-form-field>
                                            
                                              <input matInput [matDatepicker]="picker3" placeholder="Fecha de morosidad" class="form-control" style="width: 65%; display: inline-block;" name="f_moroso" formControlName="f_moroso" (change)="actual($event)" (ngModelChange)="actual($event)">
                                              <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                                              <mat-datepicker #picker3></mat-datepicker>
                                            </mat-form-field>  
                                        </div>
                                    </div> 
                                    <div class="col-md-6" >
                                     <div formArrayName="cuotas">
                                        <div *ngFor="let cuot of registroClienteForm.controls.cuotas.controls; let i=index" [formGroupName]="i"> <div class="row" align="center">
                                            <label class="labels" style="font-size: 14px !important">Meses del año {{ano}}</label>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <mat-checkbox  name="Enero" formControlName="Enero">Enero</mat-checkbox>
                                                </div>
                                                <div class="col-md-4">
                                                    <mat-checkbox  name="Febrero" formControlName="Febrero">Febrero</mat-checkbox>
                                                </div>
                                                <div class="col-md-4">
                                                    <mat-checkbox  name="Marzo" formControlName="Marzo">Marzo</mat-checkbox>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <mat-checkbox  name="Abril" formControlName="Abril">Abril</mat-checkbox>
                                                </div>
                                                <div class="col-md-4">
                                                    <mat-checkbox  name="Mayo" formControlName="Mayo">Mayo</mat-checkbox>
                                                </div>
                                                <div class="col-md-4">
                                                    <mat-checkbox  name="Junio" formControlName="Junio">Junio</mat-checkbox>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <mat-checkbox  name="Julio" formControlName="Julio">Julio</mat-checkbox>
                                                </div>
                                                <div class="col-md-4">
                                                    <mat-checkbox  name="Agosto" formControlName="Agosto">Agosto</mat-checkbox>
                                                </div>
                                                <div class="col-md-4">
                                                    <mat-checkbox  name="Septiembre" formControlName="Septiembre">Septiembre</mat-checkbox>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <mat-checkbox  name="Octubre" formControlName="Octubre">Octubre</mat-checkbox>
                                                </div>
                                                <div class="col-md-4">
                                                    <mat-checkbox  name="Nomviembre" formControlName="Noviembre">Noviembre</mat-checkbox>
                                                </div>
                                                <div class="col-md-4">
                                                    <mat-checkbox  name="Diciembre" formControlName="Diciembre">Diciembre</mat-checkbox>
                                                </div>
                                            </div>

                                        </div>
                                     </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">   
                                <div class="col-md-6">
                                    <label class="labels" style="font-size: 14px !important">Estado del Cliente:</label>
                                    <div class="form-group form-black label-floating">
                                        
                                        <select name="estado" formControlName="estado" class="form-control" (change)="verEstado($event)">
                                            <option value="PC" selected="true">Pre Cargado</option>
                                            <option value="P">Pendiente por autorización</option>
                                            <option value="V">Vigente</option>
                                            <option value="M">Moroso</option>
                                            <option value="B">Baja</option>
                                        </select>
                                    </div>
                                </div>
                                <!-- <div class="col-md-6" *ngIf="registroClienteForm.value.estado=='M'">
                                    
                                    <div class="form-group form-black label-floating">
                                      
                                        <mat-form-field>
                                        
                                          <input matInput [matDatepicker]="picker3" placeholder="Moroso desde" class="form-control" style="width: 85%; display: inline-block;" name="f_moroso" formControlName="f_moroso">
                                          <mat-datepicker-toggle matSuffix [for]="picker3"></mat-datepicker-toggle>
                                          <mat-datepicker #picker3></mat-datepicker>
                                        </mat-form-field>
                                    </div>
                                </div> -->
                            </div>
                            <div style="text-align: center;">
                                <button type="submit" class="btn btn-danger" [disabled]="!registroClienteForm.valid">Editar Afiliado</button>
                            </div>
                        </form>
                    </div>
                </div> 
          </div>
          <div class="col-md-4" >
                <div class="card">
                    <div class="card-header" data-background-color="orange">
                        <h3 class="title">Datos del afiliado titular</h3>
                    </div>
                    <div class="card-content">
                        
                            <div class="row">
                                <div class="col-md-4">
                                    <!-- <div class="form-group form-black label-floating"> -->
                                        <label class="labels">Sucursal</label>
                                        <p>{{registroClienteForm.value.sucursal}}</p>
                                    <!-- </div> -->
                                </div>
                                
                                <div class="col-md-4">
                                    <!-- <div class="form-group form-black label-floating"> -->
                                        <label class="labels">Cartera</label>
                                        <p>{{registroClienteForm.value.cartera}}</p>
                                    <!-- </div> -->
                                </div>

                                <div class="col-md-4">
                                    <!-- <div class="form-group form-black label-floating"> -->
                                        <label class="labels">Numero</label>
                                        <p>{{registroClienteForm.value.ticket}}</p>
                                    <!-- </div> -->
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <!-- <div class="form-group form-black label-floating"> -->
                                        <label class="labels">Cliente</label>
                                        <p>{{registroClienteForm.value.tipoNombre}}</p>
                                    <!-- </div> -->
                                </div>
                            </div>
                             <div class="row">
                                <hr>
                                <div class="col-md-12">
                                    <h3>Titular</h3>
                                    
                                </div>
                                <div class="col-md-12">
                                    <p>{{registroClienteForm.value.nombre_1}} {{registroClienteForm.value.nombre_2}} {{registroClienteForm.value.apellido_1}} {{registroClienteForm.value.apellido_2}}</p>
                                </div>
                                
                            </div>
                            <div class="row">
                                
                                <div class="col-md-4">
                                    <label class="labels">DNI</label>
                                    <!-- <div class="form-group form-black label-floating"> -->
                                      <p>{{registroClienteForm.value.dni}}</p> 
                                    <!-- </div> -->
                                </div>
                                <div class="col-md-4">
                                    <label class="labels">Sexo</label>
                                    <!-- <div class="form-group form-black label-floating"> -->
                                        <p>{{registroClienteForm.value.sexo}}</p> 
                                    <!-- </div> -->
                                </div>
                                <div class="col-md-4">
                                    <label class="labels">Fecha de nacimiento</label>
                                    <!-- <div class="form-group form-black label-floating"> -->
                                        <p>{{registroClienteForm.value.f_nacimiento | date: 'dd/MM/yyyy'}}</p> 
                                    <!-- </div> -->
                                </div>
                                
                            </div>
                            <div class="row">
                                
                                <div class="col-md-6">
                                    <label class="labels">Correo</label>
                                    <!-- <div class="form-group form-black label-floating"> -->
                                      <p>{{registroClienteForm.value.correo}}</p> 
                                    <!-- </div> -->
                                </div>
                                <div class="col-md-6">
                                    <label class="labels">Teléfono</label>
                                    <!-- <div class="form-group form-black label-floating"> -->
                                        <p>{{registroClienteForm.value.telefono}}</p> 
                                    <!-- </div> -->
                                </div>
                            </div>
                            <div class="row">
                                
                                 <div class="col-md-12">
                                    <label class="labels">Dirección</label>
                                    <!-- <div class="form-group form-black label-floating"> -->
                                        <p>{{registroClienteForm.value.direccion}}</p>
                                    <!-- </div> -->
                                </div>   
                            </div>
                            <div class="row">
                                
                                 <div class="col-md-12">
                                    <label class="labels">Imagen</label>
                                    <!-- <div class="form-group form-black label-floating"> -->
                                        <img src="{{registroClienteForm.value.imagenes}}" alt="">
                                        <!-- <p>{{registroClienteForm.value.imagenes}}</p> -->
                                    <!-- </div> -->
                                </div>   
                            </div>
                            <div class="row">
                                <hr>
                                <div class="col-md-4">
                                    <label class="labels">Fecha de alta o última renovación</label>
                                    <!-- <div class="form-group form-black label-floating"> -->
                                        <p>{{registroClienteForm.value.f_alta | date: 'dd/MM/yyyy'}}</p>
                                    <!-- </div> -->
                                </div>
                                <!-- <div class="col-md-3" *ngIf="registroClienteForm.value.cuota!=''" > -->
                                <div class="col-md-3">
                                    <label class="labels">Moroso</label>
                                    <!-- <div class="form-group form-black label-floating" align="center"> -->
                                        <p>{{estadoMoroso}}</p>
                                   <!--  </div> -->
                                </div>
                                <div class="col-md-5">
                                    <label class="labels" >Estado del Cliente</label>
                                   <!--  <div class="form-group form-black label-floating"> -->
                                        <p>{{registroClienteForm.value.estado}}</p>
                                    <!-- </div> -->
                                </div>
                                
                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <label class="labels">Fecha de Morosidad</label>
                                    <!-- <div class="form-group form-black label-floating"> -->
                                        <p>{{registroClienteForm.value.f_moroso | date: 'dd/MM/yyyy'}}</p>
                                   <!--  </div> -->
                                </div>    
                            </div>
                        </div>
                    </div>
            </div>
            <div class="col-md-8" >  
                <div class="card">
                    <div class="card-header" data-background-color="orange">
                        <div class="row">
                            <div class="col-md-6">
                                <h3 class="title">Familiares</h3>
                            </div>
                        </div>
                    </div>
                    <div class="card-content">
                        <form [formGroup]="registroClienteForm" (ngSubmit)="enviarCliente(registroClienteForm)">
                            <div class="row">
                                
                            </div>
                            
                            <div formArrayName="familiares" [hidden]="registroClienteForm.value.tipo != 'AF_CUETO'" *ngIf="registroClienteForm.controls.familiares">
                                <div *ngFor="let client of registroClienteForm.controls.familiares.controls; let i=index" [formGroupName]="i">
                                    <div class="row">
                                        <div class="col-md-1">
                                        </div>
                                        <div class="col-md-10">
                                            <div class="row">
                                                <h3 class="title">Familiar {{i+1}}</h3>
                                                <hr>
                                                <div class="col-md-6">
                                                    <div class="form-group form-black label-floating is-empty">
                                                        <label class="labels">Primer Nombre:</label>
                                                        <input type="text" name="nombre_1" class="form-control" formControlName="nombre_1" [transformer]="uppercase">
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group form-black label-floating is-empty">
                                                        <label class="labels">Segundo Nombre:</label>
                                                        <input type="text" name="nombre_2" class="form-control" formControlName="nombre_2" [transformer]="uppercase">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <div class="form-group form-black label-floating is-empty">
                                                        <label class="labels">Primer Apellido:</label>
                                                        <input type="text" name="apellido_1" class="form-control" formControlName="apellido_1" [transformer]="uppercase">
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group form-black label-floating is-empty">
                                                        <label class="labels">Segundo Apellido:</label>
                                                        <input type="text" name="apellido_2" class="form-control" formControlName="apellido_2" [transformer]="uppercase">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <div class="form-group form-black label-floating is-empty">
                                                        <label class="labels">DNI</label>
                                                        <input type="text" name="dni" class="form-control" formControlName="dni">
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group form-black label-floating is-empty">
                                                        <label class="labels">Vínculo</label>
                                                        <input type="text" name="vinculo"class="form-control" formControlName="vinculo">
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-group form-black label-floating is-empty">
                                                        <label class="labels">Sexo:</label>
                                                        <select name="tipo" formControlName="sexo" class="form-control">
                                                            <option value="M" selected="true">Masculino</option>
                                                            <option value="F">Femenino</option>
                                                        </select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-6">
                                                    <!-- <div class="form-group form-black label-floating is-empty">
                                                        <label class="labels">Fecha Nacimiento:</label>
                                                        <input type="text" name="f_nacimiento" class="form-control" formControlName="f_nacimiento">
                                                    </div> -->
                                                    <div class="form-group form-black label-floating is-empty">
                                                        <mat-form-field>
                                                          <input matInput [matDatepicker]="picker" placeholder="Fecha de Nacimiento" class="form-control" style="width: 85%; display: inline-block;" name="f_nacimiento" formControlName="f_nacimiento">
                                                          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                                          <mat-datepicker #picker></mat-datepicker>
                                                        </mat-form-field>
                                                    </div>
                                                </div>
                                                <div class="col-md-6">
                                                    <div class="form-group form-black label-floating is-empty">
                                                        <label class="labels">Observaciones:</label>
                                                        <input type="text" name="observaciones" class="form-control" formControlName="observaciones" [transformer]="uppercase">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <div class="form-group form-black label-floating is-empty">
                                                        <label class="labels">Dirección:</label>
                                                        <input type="text" name="direccion" class="form-control" formControlName="direccion" [transformer]="uppercase">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-12" style="text-align: center;" align="center">
                                                        <div *ngIf="registroClienteForm.value.familiares[i].existe" class="btn btn-danger" (click)=editarFamiliar(client)>Editar Familiar</div>
                                                        <div *ngIf="!registroClienteForm.value.familiares[i].existe" class="btn btn-success" (click)=crearFamiliar(client,registroClienteForm.value.id,registroClienteForm.value.sucursal_id)>Agregar</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-1">
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12" >
                                        <div class="btn btn-warning pull-right" (click)=agregar()>Agregar un Familiar</div>
                                        <!-- <div class="btn btn-success pull-right" (click)=remover(i)>Eliminar</div> -->
                                    </div>
                                </div> 
                            </div>
                            <div class="row" style="text-align: center">
                            <!-- <button type="submit" class="btn btn-danger" [disabled]="!registroClienteForm.valid">Editar</button> -->
                            </div>

                            <div class="clearfix"></div>
                        </form>
                    </div>
                </div>
            </div> 

            <!-- --------------------------------------------------------------------------------------------------------- -->
            <div class="col-md-4 fixed" >
                <div class="card">
                    <div class="card-header" data-background-color="orange">
                        <h3 class="title">Datos de los familiares</h3>
                    </div>
                    <div class="card-content">
                              
                            <div [hidden]="registroClienteForm.value.tipo != 'AF_CUETO'" *ngIf="registroClienteForm.controls.familiares">
                                <div *ngFor="let client of registroClienteForm.value.familiares; let i = index">
                                    <div class="row">
                                         <div class="col-md-1">
                                        </div>
                                        <div class="col-md-10">
                                            <div class="row">
                                                <hr>
                                                <h3>Familiar {{i+1}}</h3>

                                                <div class="col-md-12">
                                                    <label class="labels">Primer Nombre:</label>
                                                    
                                                        <p>{{client.nombre_1}} {{client.nombre_2}} {{client.apellido_1}} {{client.apellido_2}}</p>
                                                    
                                                </div>
                                            </div>
                                            <div class="row">

                                                <div class="col-md-4">
                                                    <label class="labels">DNI</label>
                                                    
                                                        <p>{{client.dni}}</p>
                                                    
                                                </div>
                                                <div class="col-md-4">
                                                    <label class="labels">Vínculo</label>
                                                   
                                                        <p>{{client.vinculo}}</p>
                                                    
                                                </div>
                                                <div class="col-md-4">
                                                    <label class="labels">Sexo</label>
                                                    
                                                        <p>{{client.sexo}}</p>
                                                    
                                                </div>
                                            </div>

                                            <div class="row">
                                                <div class="col-md-6">
                                                    <label class="labels">Fecha de Nacimiento</label>
                                                    
                                                        <p>{{client.f_nacimiento | date: 'dd/MM/yyyy'}}</p>
                                                    
                                                </div>
                                                <div class="col-md-6">
                                                    <label class="labels">Observaciones</label>
                                                    
                                                        <p>{{client.observaciones}}</p>
                                                    
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-md-12">
                                                    <label class="labels">Dirección</label>
                                                    <div>
                                                        <p>{{client.direccion}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-1">
                                        </div>
                                    </div>
                                </div>

                            <div class="clearfix"></div>
                    </div>
                </div>
            </div>
    </div>
    </div>
    <app-footer></app-footer>
 </div>
 </div>